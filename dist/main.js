(()=>{"use strict";function t(t,e,s,a){let i=document.createElement(t);return i.textContent=s,i.id=a,""!=e&&e.split(",").forEach((t=>{i.classList.add(t)})),""==a?(i.classList.add(e),i):i}const e=(e,s)=>{let a=document.getElementById(e);a.innerHTML="";let i=t("ul","menu-items","","");return s.filter((t=>t.type==e)).forEach((e=>{let s=t("li","menu-item","","");"Home"==e.title&&s.classList.add("active");let a=t("label","menu",e.title,""),n=t("label","badge",e.getTotalTasks(),`badge-${e.title}`);s.appendChild(a),s.appendChild(n),i.appendChild(s)})),a.appendChild(i),a};function s(e,s){console.log(e.length),document.getElementById(`badge-${s}`).textContent=e.length,(e=>{let s=document.getElementById("cards-container");s.innerHTML="",e.forEach(((e,a)=>{let i=t("div",`card,${e.priority}`,"");i.setAttribute("data-project",e.project),i.setAttribute("data-index",a);let n=t("div","card-items"),d=t("input","","");d.type="checkbox",d.checked=e.status;let r=t("label","card-text",e.title);n.appendChild(d),n.appendChild(r);let o=t("div","card-items"),l=t("label","",e.dueDate),c=t("input","btn-details");c.type="button",c.value="Details";let p=t("i","fa-solid,fa-pen-to-square"),u=t("i","fa-solid,fa-trash");o.appendChild(c),o.appendChild(l),o.appendChild(p),o.appendChild(u),i.appendChild(n),i.appendChild(o),s.appendChild(i)}))})(e)}function a(t){var e;e=t,document.getElementById("detail-taskTitle").textContent=e.project,document.getElementById("detail-taskProject").textContent=e.title,document.getElementById("detail-taskDate").textContent=e.dueDate,document.getElementById("detail-taskDetails").textContent=e.description;var s=document.getElementById("myModal");s.style.display="block",span.onclick=function(){s.style.display="none"},window.onclick=function(t){t.target==s&&(s.style.display="none")}}class i{constructor(t,e){this.title=t,this.tasks=[],this.type=e,this.total=this.tasks.length}getTotalTasks(){return this.tasks.length}resetTaskIndexes(){let t=0;return this.tasks.forEach((e=>{e.index=t,t++})),this.tasks}getTasks(){this.tasks.slice(0).sort((function(t,e){var s=t.title.toLowerCase(),a=e.title.toLowerCase();return s<a?-1:s>a?1:0}))}getTasks(){this.tasks.slice(0).sort((function(t,e){var s=t.title.toLowerCase(),a=e.title.toLowerCase();return s<a?-1:s>a?1:0}))}removeTask(t){}}class n{constructor(t,e,s,a,i){this.title=t,this.description=e,this.dueDate=s,this.priority=a,this.status=!1,this.project=i}set setIndex(t){this.index=t}get getIndex(){return this.index}changeTaskStatus(){return this.status=!this.status,this}}const d=new class{constructor(){this.projects=[],this.projects.push(new i("Personal","main-projects")),this.projects.push(new i("Work","main-projects")),this.projects.push(new i("College","main-projects")),this.projects.push(new i("Learn React","secondary-projects")),this.projects.push(new i("Odin Project","secondary-projects")),this.projects.push(new i("Week","secondary-projects")),this.currentProject="Personal"}addProject(t){return this.projects.push(t),this.projects}addTask(t,e,s,a,i){let d=new n(t,e,s,a,i),r=this.getProjectByName(i);return r.tasks.push(d),r.tasks}removeTask(t,e){let a=this.projects.find((e=>e.title==t));a.tasks.splice(e,1),s(a.tasks,t),o()}getAllProjects(){return this.projects}getProjectByName(t){return this.projects.find((e=>e.title==t))}getTasksByProject(t,e){return this.projects.find((e=>e.title==t)).tasks[e]}};d.addTask("Test TASK 1","This is just a test","10/23/2022","High","Personal"),d.addTask("Test TASK 2","This is just a test","10/23/2022","Low","Personal"),d.addTask("Test TASK 3","This is just a test","10/23/2022","Medium","Personal"),d.addTask("Test TASK 4","This is just a test","10/23/2022","Medium","Personal"),d.addTask("Test TASK 1","This is just a test","10/23/2022","High","Work"),d.addTask("Test TASK 2","This is just a test","10/23/2022","Low","Work"),d.addTask("Test TASK 3","This is just a test","10/23/2022","Medium","College"),d.addTask("Test TASK 4","This is just a test","10/23/2022","Medium","College");const r=t=>{let e=t.target.parentNode.parentNode;d.removeTask(e.getAttribute("data-project"),e.getAttribute("data-index"))};function o(){for(let t of document.getElementsByClassName("fa-trash"))t.addEventListener("click",r)}function l(t){let e=t.target.parentNode.parentNode;a(d.getTasksByProject(e.getAttribute("data-project"),e.getAttribute("data-index")))}!function(s){let i=s.getAllProjects();e("main-projects",i),e("secondary-projects",i),i.filter((t=>t.title==s.currentProject)).forEach((e=>{(e=>{let s=document.getElementById("cards-container");s.innerHTML="",e.forEach(((e,i)=>{let n=t("div",`card,${e.priority}`,"");n.setAttribute("data-project",e.project),n.setAttribute("data-index",i);let d=t("div","card-items"),r=t("input","","");r.type="checkbox",r.checked=e.status;let o=t("label","card-text",e.title);d.appendChild(r),d.appendChild(o);let l=t("div","card-items"),c=t("label","",e.dueDate),p=t("input","btn-details");p.type="button",p.value="Details",p.addEventListener("click",(function(t){a()}));let u=t("i","fa-solid,fa-pen-to-square"),h=t("i","fa-solid,fa-trash");l.appendChild(p),l.appendChild(c),l.appendChild(u),l.appendChild(h),n.appendChild(d),n.appendChild(l),s.appendChild(n)}))})(e.tasks)}))}(d),o(),function(){for(let t of document.getElementsByClassName("btn-details"))t.addEventListener("click",l)}(),document.getElementById("formTask").addEventListener("submit",(t=>{t.preventDefault(),function(t){const e=new FormData(t.target),a=Object.fromEntries(e);!function(t,e){s(t,e)}(d.addTask(a.taskName,a.taskDetails,a.taskDueDate,a.priority,d.currentProject),d.currentProject)}(t)}))})();